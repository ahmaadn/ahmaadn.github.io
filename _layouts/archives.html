---
layout: blog
---

<div class="intro-heading has-text-centered" style="background-image: url(/assets/img/home-bg.jpg); ">
    <div class="hero">
        <div class="hero-body">
            {% if page.title != 'Blog' and page.posts.size %}
            <h3 class="subtitle">
                <span>{{ page.posts.size }}</span> posts {% if page.type == 'tag' %} tags {% else %} categorized {% endif %} as:
            </h3>
            {% endif %}
            <h2 class="title">
                {{ page.title }}
            </h2>
        </div>
    </div>
</div>

<!-- Post -->
{% if page.posts %}
{%- assign _sorted_list = page.posts -%}
{% else %}
{%- assign _sorted_list = site.posts -%}
{% endif %}

{%- assign _sorted_list = _sorted_list | sort: 'date' -%}
{%- assign _sorted_list = _sorted_list | reverse -%}

{%- for _article in _sorted_list -%}

{% comment %} group by year {%  endcomment %}
{%- assign _currentdate = _article.date | date: '%Y' -%}

{%- if _currentdate != _date -%}
{%- unless forloop.first -%}</ul></section>{%- endunless -%}
<section>
    <h2 class="year"> {{ _currentdate }} </h2>
    <ul class="mini-post-list">
    {%- assign _date = _currentdate -%}
    {%- endif -%}

    {% assign index = forloop.index0 | plus: '1' %}
    {% assign next_post = _sorted_list[index]  %}
    {% assign last_post = false  %}    
    {% assign next_post_date = next_post.date | date: '%Y' -%}

    {% if next_post_date != _date  %}
    {% assign last_post = true  %}    
    {% endif %}

        <li class="post">
            <a href="{{ _article.url | prepend: site.baseurl }}">
                <div>
                    <h2 class="title is-spaced">
                        {{  _article.title }}
                    </h2>
                    <h3 class="subtitle">{{ _article.subtitle }}</h3>
                </div>
                <span class="date"> {{ _article.date | date: '%b %-d' }} </span>
            </a>
        </li>

    {%- if forloop.last -%}
    </ul>
</section>{%- endif -%}
{% endfor %}

